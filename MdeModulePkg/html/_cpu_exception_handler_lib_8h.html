<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MdeModulePkg[all]: MdeModulePkg/Include/Library/CpuExceptionHandlerLib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MdeModulePkg[all]
   &#160;<span id="projectnumber">0.98</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_cpu_exception_handler_lib_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">CpuExceptionHandlerLib.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="union_c_p_u___e_x_c_e_p_t_i_o_n___i_n_i_t___d_a_t_a.html">CPU_EXCEPTION_INIT_DATA</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab453c93016cd6f8572c9f0bf64ed79d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_cpu_exception_handler_lib_8h.html#ab453c93016cd6f8572c9f0bf64ed79d1">CPU_EXCEPTION_INIT_DATA_REV</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab453c93016cd6f8572c9f0bf64ed79d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a451b73e52cf1dac36fff614a5d7f7505"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_platform_boot_manager_8h.html#aaed96bd0619ee6b8526d64337e745391">EFI_STATUS</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_cpu_exception_handler_lib_8h.html#a451b73e52cf1dac36fff614a5d7f7505">InitializeCpuExceptionHandlers</a> (IN EFI_VECTOR_HANDOFF_INFO *VectorInfo)</td></tr>
<tr class="separator:a451b73e52cf1dac36fff614a5d7f7505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c3cc63965e12c985304ea108a0bd99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_platform_boot_manager_8h.html#aaed96bd0619ee6b8526d64337e745391">EFI_STATUS</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_cpu_exception_handler_lib_8h.html#a62c3cc63965e12c985304ea108a0bd99">InitializeCpuExceptionHandlersEx</a> (IN EFI_VECTOR_HANDOFF_INFO *VectorInfo, IN <a class="el" href="union_c_p_u___e_x_c_e_p_t_i_o_n___i_n_i_t___d_a_t_a.html">CPU_EXCEPTION_INIT_DATA</a> *InitData)</td></tr>
<tr class="separator:a62c3cc63965e12c985304ea108a0bd99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05b7f21f1a1bc317acd3da2f964cdd82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_platform_boot_manager_8h.html#aaed96bd0619ee6b8526d64337e745391">EFI_STATUS</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_cpu_exception_handler_lib_8h.html#a05b7f21f1a1bc317acd3da2f964cdd82">InitializeCpuInterruptHandlers</a> (IN EFI_VECTOR_HANDOFF_INFO *VectorInfo)</td></tr>
<tr class="separator:a05b7f21f1a1bc317acd3da2f964cdd82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe96df81d8af901256f209f1a9535cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_platform_boot_manager_8h.html#aaed96bd0619ee6b8526d64337e745391">EFI_STATUS</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_cpu_exception_handler_lib_8h.html#aafe96df81d8af901256f209f1a9535cb">RegisterCpuInterruptHandler</a> (IN EFI_EXCEPTION_TYPE InterruptType, IN EFI_CPU_INTERRUPT_HANDLER InterruptHandler)</td></tr>
<tr class="separator:aafe96df81d8af901256f209f1a9535cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f5350950227daf2766370b21ecf383"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_display_protocol_8h.html#ae9c54c060568c862c771ad80bb63bf48">VOID</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_cpu_exception_handler_lib_8h.html#a10f5350950227daf2766370b21ecf383">DumpCpuContext</a> (IN EFI_EXCEPTION_TYPE <a class="el" href="_ebc_simple_debugger_8h.html#a4a1531d361032d2121ad66d19d6a12d3">ExceptionType</a>, IN EFI_SYSTEM_CONTEXT SystemContext)</td></tr>
<tr class="separator:a10f5350950227daf2766370b21ecf383"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CPU Exception library provides the default CPU interrupt/exception handler. It also provides capability to register user interrupt/exception handler.</p>
<p>Copyright (c) 2012 - 2018, Intel Corporation. All rights reserved.<br/>
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab453c93016cd6f8572c9f0bf64ed79d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPU_EXCEPTION_INIT_DATA_REV&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a10f5350950227daf2766370b21ecf383"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_display_protocol_8h.html#ae9c54c060568c862c771ad80bb63bf48">VOID</a> EFIAPI DumpCpuContext </td>
          <td>(</td>
          <td class="paramtype">IN EFI_EXCEPTION_TYPE&#160;</td>
          <td class="paramname"><em>ExceptionType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_SYSTEM_CONTEXT&#160;</td>
          <td class="paramname"><em>SystemContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display processor context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ExceptionType</td><td>Exception type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SystemContext</td><td>Processor context to be display. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a451b73e52cf1dac36fff614a5d7f7505"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_platform_boot_manager_8h.html#aaed96bd0619ee6b8526d64337e745391">EFI_STATUS</a> EFIAPI InitializeCpuExceptionHandlers </td>
          <td>(</td>
          <td class="paramtype">IN EFI_VECTOR_HANDOFF_INFO *&#160;</td>
          <td class="paramname"><em>VectorInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes all CPU exceptions entries and provides the default exception handlers.</p>
<p>Caller should try to get an array of interrupt and/or exception vectors that are in use and need to persist by EFI_VECTOR_HANDOFF_INFO defined in PI 1.3 specification. If caller cannot get reserved vector list or it does not exists, set VectorInfo to NULL. If VectorInfo is not NULL, the exception vectors will be initialized per vector attribute accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">VectorInfo</td><td>Pointer to reserved vector list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>CPU Exception Entries have been successfully initialized with default exception handlers. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>VectorInfo includes the invalid content if VectorInfo is not NULL. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>This function is not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62c3cc63965e12c985304ea108a0bd99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_platform_boot_manager_8h.html#aaed96bd0619ee6b8526d64337e745391">EFI_STATUS</a> EFIAPI InitializeCpuExceptionHandlersEx </td>
          <td>(</td>
          <td class="paramtype">IN EFI_VECTOR_HANDOFF_INFO *&#160;</td>
          <td class="paramname"><em>VectorInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="union_c_p_u___e_x_c_e_p_t_i_o_n___i_n_i_t___d_a_t_a.html">CPU_EXCEPTION_INIT_DATA</a> *&#160;</td>
          <td class="paramname"><em>InitData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes all CPU exceptions entries with optional extra initializations.</p>
<p>By default, this method should include all functionalities implemented by <a class="el" href="_cpu_exception_handler_lib_8h.html#a451b73e52cf1dac36fff614a5d7f7505">InitializeCpuExceptionHandlers()</a>, plus extra initialization works, if any. This could be done by calling <a class="el" href="_cpu_exception_handler_lib_8h.html#a451b73e52cf1dac36fff614a5d7f7505">InitializeCpuExceptionHandlers()</a> directly in this method besides the extra works.</p>
<p>InitData is optional and its use and content are processor arch dependent. The typical usage of it is to convey resources which have to be reserved elsewhere and are necessary for the extra initializations of exception.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">VectorInfo</td><td>Pointer to reserved vector list. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">InitData</td><td>Pointer to data optional for extra initializations of exception.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The exceptions have been successfully initialized. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>VectorInfo or InitData contains invalid content. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>This function is not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a05b7f21f1a1bc317acd3da2f964cdd82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_platform_boot_manager_8h.html#aaed96bd0619ee6b8526d64337e745391">EFI_STATUS</a> EFIAPI InitializeCpuInterruptHandlers </td>
          <td>(</td>
          <td class="paramtype">IN EFI_VECTOR_HANDOFF_INFO *&#160;</td>
          <td class="paramname"><em>VectorInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes all CPU interrupt/exceptions entries and provides the default interrupt/exception handlers.</p>
<p>Caller should try to get an array of interrupt and/or exception vectors that are in use and need to persist by EFI_VECTOR_HANDOFF_INFO defined in PI 1.3 specification. If caller cannot get reserved vector list or it does not exists, set VectorInfo to NULL. If VectorInfo is not NULL, the exception vectors will be initialized per vector attribute accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">VectorInfo</td><td>Pointer to reserved vector list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>All CPU interrupt/exception entries have been successfully initialized with default interrupt/exception handlers. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>VectorInfo includes the invalid content if VectorInfo is not NULL. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>This function is not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aafe96df81d8af901256f209f1a9535cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_platform_boot_manager_8h.html#aaed96bd0619ee6b8526d64337e745391">EFI_STATUS</a> EFIAPI RegisterCpuInterruptHandler </td>
          <td>(</td>
          <td class="paramtype">IN EFI_EXCEPTION_TYPE&#160;</td>
          <td class="paramname"><em>InterruptType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_CPU_INTERRUPT_HANDLER&#160;</td>
          <td class="paramname"><em>InterruptHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers a function to be called from the processor interrupt handler.</p>
<p>This function registers and enables the handler specified by InterruptHandler for a processor interrupt or exception type specified by InterruptType. If InterruptHandler is NULL, then the handler for the processor interrupt or exception type specified by InterruptType is uninstalled. The installed handler is called once for each processor interrupt or exception. NOTE: This function should be invoked after <a class="el" href="_cpu_exception_handler_lib_8h.html#a451b73e52cf1dac36fff614a5d7f7505">InitializeCpuExceptionHandlers()</a> or <a class="el" href="_cpu_exception_handler_lib_8h.html#a05b7f21f1a1bc317acd3da2f964cdd82">InitializeCpuInterruptHandlers()</a> invoked, otherwise EFI_UNSUPPORTED returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">InterruptType</td><td>Defines which interrupt or exception to hook. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">InterruptHandler</td><td>A pointer to a function of type EFI_CPU_INTERRUPT_HANDLER that is called when a processor interrupt occurs. If this parameter is NULL, then the handler will be uninstalled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The handler for the processor interrupt was successfully installed or uninstalled. </td></tr>
    <tr><td class="paramname">EFI_ALREADY_STARTED</td><td>InterruptHandler is not NULL, and a handler for InterruptType was previously installed. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>InterruptHandler is NULL, and a handler for InterruptType was not previously installed. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>The interrupt specified by InterruptType is not supported, or this function is not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_54cb27adfbe3c9131eabcdf8b02d1207.html">MdeModulePkg</a></li><li class="navelem"><a class="el" href="dir_18ec75d2ad33879c083782e393e99453.html">Include</a></li><li class="navelem"><a class="el" href="dir_c84d4490a6a57540c54360a283dbe1bf.html">Library</a></li><li class="navelem"><a class="el" href="_cpu_exception_handler_lib_8h.html">CpuExceptionHandlerLib.h</a></li>
    <li class="footer">Generated on Sun Dec 5 2021 03:40:30 for MdeModulePkg[all] by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
