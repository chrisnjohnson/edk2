<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MdePkg[all]: MdePkg/Include/Protocol/Timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MdePkg[all]
   &#160;<span id="projectnumber">1.08</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_timer_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Timer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_f_i___t_i_m_e_r___a_r_c_h___p_r_o_t_o_c_o_l.html">_EFI_TIMER_ARCH_PROTOCOL</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a13c4eb2c5279e06085cf412d5edad13d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_8h.html#a13c4eb2c5279e06085cf412d5edad13d">EFI_TIMER_ARCH_PROTOCOL_GUID</a>&#160;&#160;&#160;{ 0x26baccb3, 0x6f42, 0x11d4, {0xbc, 0xe7, 0x0, 0x80, 0xc7, 0x3c, 0x88, 0x81 } }</td></tr>
<tr class="separator:a13c4eb2c5279e06085cf412d5edad13d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2df486d661e241b5c2b47246f1e59578"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="struct___e_f_i___t_i_m_e_r___a_r_c_h___p_r_o_t_o_c_o_l.html">_EFI_TIMER_ARCH_PROTOCOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a></td></tr>
<tr class="separator:a2df486d661e241b5c2b47246f1e59578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55bdc20c43730c8b1cc609459b41e9f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_8h.html#af55bdc20c43730c8b1cc609459b41e9f">EFI_TIMER_NOTIFY</a> )(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> <a class="el" href="_rest_8h.html#a195b96f12900fa4b9940a1d3fda1ba0d">Time</a>)</td></tr>
<tr class="separator:af55bdc20c43730c8b1cc609459b41e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60b109e06354b9b725a5bbb73d75be9a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_8h.html#a60b109e06354b9b725a5bbb73d75be9a">EFI_TIMER_REGISTER_HANDLER</a> )(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a>, <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#af55bdc20c43730c8b1cc609459b41e9f">EFI_TIMER_NOTIFY</a> NotifyFunction)</td></tr>
<tr class="separator:a60b109e06354b9b725a5bbb73d75be9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbfd400388dabac4f6a8bb79de976f5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_8h.html#acbbfd400388dabac4f6a8bb79de976f5">EFI_TIMER_SET_TIMER_PERIOD</a> )(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a>, <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> TimerPeriod)</td></tr>
<tr class="separator:acbbfd400388dabac4f6a8bb79de976f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97895959b882ec8c4a0ea7bfb5603ca8"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_8h.html#a97895959b882ec8c4a0ea7bfb5603ca8">EFI_TIMER_GET_TIMER_PERIOD</a> )(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a>, <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_ia32_2_processor_bind_8h.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> *TimerPeriod)</td></tr>
<tr class="separator:a97895959b882ec8c4a0ea7bfb5603ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb465377c86dc859561bbf102fef72a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_8h.html#aedb465377c86dc859561bbf102fef72a">EFI_TIMER_GENERATE_SOFT_INTERRUPT</a> )(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a>)</td></tr>
<tr class="separator:aedb465377c86dc859561bbf102fef72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0a6b795721a639de2140ef26bac36395"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_uefi_base_type_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_8h.html#a0a6b795721a639de2140ef26bac36395">gEfiTimerArchProtocolGuid</a></td></tr>
<tr class="separator:a0a6b795721a639de2140ef26bac36395"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Timer Architectural Protocol as defined in PI Specification VOLUME 2 DXE</p>
<p>This code is used to provide the timer tick for the DXE core.</p>
<p>Copyright (c) 2006 - 2018, Intel Corporation. All rights reserved.<br/>
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a13c4eb2c5279e06085cf412d5edad13d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFI_TIMER_ARCH_PROTOCOL_GUID&#160;&#160;&#160;{ 0x26baccb3, 0x6f42, 0x11d4, {0xbc, 0xe7, 0x0, 0x80, 0xc7, 0x3c, 0x88, 0x81 } }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global ID for the Timer Architectural Protocol </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a2df486d661e241b5c2b47246f1e59578"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___e_f_i___t_i_m_e_r___a_r_c_h___p_r_o_t_o_c_o_l.html">_EFI_TIMER_ARCH_PROTOCOL</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Declare forward reference for the Timer Architectural Protocol </p>

</div>
</div>
<a class="anchor" id="aedb465377c86dc859561bbf102fef72a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> * EFI_TIMER_GENERATE_SOFT_INTERRUPT)(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function generates a soft timer interrupt. If the platform does not support soft timer interrupts, then EFI_UNSUPPORTED is returned. Otherwise, EFI_SUCCESS is returned. If a handler has been registered through the <a class="el" href="struct___e_f_i___t_i_m_e_r___a_r_c_h___p_r_o_t_o_c_o_l.html#a9ba816e7304860d0461d0d7e3c68040b">EFI_TIMER_ARCH_PROTOCOL.RegisterHandler()</a> service, then a soft timer interrupt will be generated. If the timer interrupt is enabled when this service is called, then the registered handler will be invoked. The registered handler should not be able to distinguish a hardware-generated timer interrupt from a software-generated timer interrupt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">This</td><td>The EFI_TIMER_ARCH_PROTOCOL instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The soft timer interrupt was generated. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>The platform does not support the generation of soft timer interrupts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a97895959b882ec8c4a0ea7bfb5603ca8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> * EFI_TIMER_GET_TIMER_PERIOD)(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a>, <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_ia32_2_processor_bind_8h.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> *TimerPeriod)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function retrieves the period of timer interrupts in 100 ns units, returns that value in TimerPeriod, and returns EFI_SUCCESS. If TimerPeriod is NULL, then EFI_INVALID_PARAMETER is returned. If a TimerPeriod of 0 is returned, then the timer is currently disabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">This</td><td>The EFI_TIMER_ARCH_PROTOCOL instance. </td></tr>
    <tr><td class="paramname">TimerPeriod</td><td>A pointer to the timer period to retrieve in 100 ns units. If 0 is returned, then the timer is currently disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The timer period was returned in TimerPeriod. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>TimerPeriod is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af55bdc20c43730c8b1cc609459b41e9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> * EFI_TIMER_NOTIFY)(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> <a class="el" href="_rest_8h.html#a195b96f12900fa4b9940a1d3fda1ba0d">Time</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function of this type is called when a timer interrupt fires. This function executes at TPL_HIGH_LEVEL. The DXE Core will register a function of this type to be called for the timer interrupt, so it can know how much time has passed. This information is used to signal timer based events.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Time</td><td>Time since the last timer interrupt in 100 ns units. This will typically be TimerPeriod, but if a timer interrupt is missed, and the EFI_TIMER_ARCH_PROTOCOL driver can detect missed interrupts, then Time will contain the actual amount of time since the last interrupt.</td></tr>
  </table>
  </dd>
</dl>
<p>None. </p>

</div>
</div>
<a class="anchor" id="a60b109e06354b9b725a5bbb73d75be9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> * EFI_TIMER_REGISTER_HANDLER)(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a>, <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#af55bdc20c43730c8b1cc609459b41e9f">EFI_TIMER_NOTIFY</a> NotifyFunction)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function registers the handler NotifyFunction so it is called every time the timer interrupt fires. It also passes the amount of time since the last handler call to the NotifyFunction. If NotifyFunction is NULL, then the handler is unregistered. If the handler is registered, then EFI_SUCCESS is returned. If the CPU does not support registering a timer interrupt handler, then EFI_UNSUPPORTED is returned. If an attempt is made to register a handler when a handler is already registered, then EFI_ALREADY_STARTED is returned. If an attempt is made to unregister a handler when a handler is not registered, then EFI_INVALID_PARAMETER is returned. If an error occurs attempting to register the NotifyFunction with the timer interrupt, then EFI_DEVICE_ERROR is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">This</td><td>The EFI_TIMER_ARCH_PROTOCOL instance. </td></tr>
    <tr><td class="paramname">NotifyFunction</td><td>The function to call when a timer interrupt fires. This function executes at TPL_HIGH_LEVEL. The DXE Core will register a handler for the timer interrupt, so it can know how much time has passed. This information is used to signal timer based events. NULL will unregister the handler.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The timer handler was registered. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>The platform does not support timer interrupts. </td></tr>
    <tr><td class="paramname">EFI_ALREADY_STARTED</td><td>NotifyFunction is not NULL, and a handler is already registered. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>NotifyFunction is NULL, and a handler was not previously registered. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>The timer handler could not be registered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acbbfd400388dabac4f6a8bb79de976f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a>(<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> * EFI_TIMER_SET_TIMER_PERIOD)(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_timer_8h.html#a2df486d661e241b5c2b47246f1e59578">EFI_TIMER_ARCH_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a>, <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#aae17ebb9ef7279d026817fb22f8aebe9">UINT64</a> TimerPeriod)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function adjusts the period of timer interrupts to the value specified by TimerPeriod. If the timer period is updated, then the selected timer period is stored in EFI_TIMER.TimerPeriod, and EFI_SUCCESS is returned. If the timer hardware is not programmable, then EFI_UNSUPPORTED is returned. If an error occurs while attempting to update the timer period, then the timer hardware will be put back in its state prior to this call, and EFI_DEVICE_ERROR is returned. If TimerPeriod is 0, then the timer interrupt is disabled. This is not the same as disabling the CPU's interrupts. Instead, it must either turn off the timer hardware, or it must adjust the interrupt controller so that a CPU interrupt is not generated when the timer interrupt fires.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">This</td><td>The EFI_TIMER_ARCH_PROTOCOL instance. </td></tr>
    <tr><td class="paramname">TimerPeriod</td><td>The rate to program the timer interrupt in 100 nS units. If the timer hardware is not programmable, then EFI_UNSUPPORTED is returned. If the timer is programmable, then the timer period will be rounded up to the nearest timer period that is supported by the timer hardware. If TimerPeriod is set to 0, then the timer interrupts will be disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The timer period was changed. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>The platform cannot change the period of the timer interrupt. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>The timer period could not be changed due to a device error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a0a6b795721a639de2140ef26bac36395"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_uefi_base_type_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a> gEfiTimerArchProtocolGuid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c048fdeadf06364e9318d2cbb3390051.html">MdePkg</a></li><li class="navelem"><a class="el" href="dir_525332e2e2b2ed96fb8f8316b580bf1e.html">Include</a></li><li class="navelem"><a class="el" href="dir_c891243080d8325efd53abbaaf181a0e.html">Protocol</a></li><li class="navelem"><a class="el" href="_timer_8h.html">Timer.h</a></li>
    <li class="footer">Generated on Sun Dec 5 2021 00:44:10 for MdePkg[all] by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
