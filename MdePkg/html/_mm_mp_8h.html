<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MdePkg[all]: MdePkg/Include/Protocol/MmMp.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MdePkg[all]
   &#160;<span id="projectnumber">1.08</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_mm_mp_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MmMp.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_m___d_i_s_p_a_t_c_h___c_o_m_p_l_e_t_i_o_n___t_o_k_e_n.html">MM_DISPATCH_COMPLETION_TOKEN</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_f_i___m_m___m_p___p_r_o_t_o_c_o_l.html">_EFI_MM_MP_PROTOCOL</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9b6711ea7e4998f0cca306dafc2f19ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#a9b6711ea7e4998f0cca306dafc2f19ef">EFI_MM_MP_PROTOCOL_GUID</a></td></tr>
<tr class="separator:a9b6711ea7e4998f0cca306dafc2f19ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c97d0762fc3a73bce82a3228022f85"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#ac1c97d0762fc3a73bce82a3228022f85">EFI_MM_MP_PROTOCOL_REVISION</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:ac1c97d0762fc3a73bce82a3228022f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0024cf676a0f509052bd0ecf5dda8479"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#a0024cf676a0f509052bd0ecf5dda8479">EFI_MM_MP_TIMEOUT_SUPPORTED</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a0024cf676a0f509052bd0ecf5dda8479"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac87475224dcff4ec2e87fc964f3c9d64"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#ac87475224dcff4ec2e87fc964f3c9d64">MM_COMPLETION</a></td></tr>
<tr class="separator:ac87475224dcff4ec2e87fc964f3c9d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b8a7f97f74cafef6f1117587a2d7be2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___e_f_i___m_m___m_p___p_r_o_t_o_c_o_l.html">_EFI_MM_MP_PROTOCOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#a8b8a7f97f74cafef6f1117587a2d7be2">EFI_MM_MP_PROTOCOL</a></td></tr>
<tr class="separator:a8b8a7f97f74cafef6f1117587a2d7be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113968e3f1e802198537ade49f81be6e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#a113968e3f1e802198537ade49f81be6e">NumberOfProcessors</a></td></tr>
<tr class="separator:a113968e3f1e802198537ade49f81be6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99aaab118065b812d0c166509e387135"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#a99aaab118065b812d0c166509e387135">Procedure</a></td></tr>
<tr class="separator:a99aaab118065b812d0c166509e387135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f50364c74acbe682fa0de722a0fe99"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a> <br class="typebreak"/>
<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#a59f50364c74acbe682fa0de722a0fe99">CpuNumber</a></td></tr>
<tr class="separator:a59f50364c74acbe682fa0de722a0fe99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36df7038b0b0f3fddf8383f68f8e1d98"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a> <br class="typebreak"/>
<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#a36df7038b0b0f3fddf8383f68f8e1d98">TimeoutInMicroseconds</a></td></tr>
<tr class="separator:a36df7038b0b0f3fddf8383f68f8e1d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c40d7d74a7b6397fb80ab693feda48"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a> <br class="typebreak"/>
<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#a07c40d7d74a7b6397fb80ab693feda48">ProcedureArguments</a></td></tr>
<tr class="separator:a07c40d7d74a7b6397fb80ab693feda48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b8f93c3948ca5eeff1232e736cb1d4"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a> <br class="typebreak"/>
<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a> <br class="typebreak"/>
<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_mm_mp_8h.html#ac87475224dcff4ec2e87fc964f3c9d64">MM_COMPLETION</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#ab0b8f93c3948ca5eeff1232e736cb1d4">Token</a></td></tr>
<tr class="separator:ab0b8f93c3948ca5eeff1232e736cb1d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf42b3e1281001cc5d435974a70c7353"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a> <br class="typebreak"/>
<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a> <br class="typebreak"/>
<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_mm_mp_8h.html#ac87475224dcff4ec2e87fc964f3c9d64">MM_COMPLETION</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <br class="typebreak"/>
<a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#acf42b3e1281001cc5d435974a70c7353">CPUStatus</a></td></tr>
<tr class="separator:acf42b3e1281001cc5d435974a70c7353"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa18399d5f31e89262257e650f099996b"><td class="memItemLeft" align="right" valign="top">typedef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#aa18399d5f31e89262257e650f099996b">EFI_STATUS</a> (<a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> *EFI_MM_GET_NUMBER_OF_PROCESSORS)(<a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="_mm_mp_8h.html#a8b8a7f97f74cafef6f1117587a2d7be2">EFI_MM_MP_PROTOCOL</a> *<a class="el" href="_ppi_2_mm_control_8h.html#a9b72b028448e2d973a9f4fa637b71951">This</a></td></tr>
<tr class="separator:aa18399d5f31e89262257e650f099996b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac03a832ffaa2db16f2e41cd3f8af9d64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_uefi_base_type_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_mm_mp_8h.html#ac03a832ffaa2db16f2e41cd3f8af9d64">gEfiMmMpProtocolGuid</a></td></tr>
<tr class="separator:ac03a832ffaa2db16f2e41cd3f8af9d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>EFI MM MP Protocol is defined in the PI 1.5 specification.</p>
<p>The MM MP protocol provides a set of functions to allow execution of procedures on processors that have entered MM. This protocol has the following properties:</p>
<ol type="1">
<li>The caller can only invoke execution of a procedure on a processor, other than the caller, that has also entered MM.</li>
<li>It is possible to invoke a procedure on multiple processors. Supports blocking and non-blocking modes of operation.</li>
</ol>
<p>Copyright (c) 2019, Intel Corporation. All rights reserved.<br/>
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a9b6711ea7e4998f0cca306dafc2f19ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFI_MM_MP_PROTOCOL_GUID</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div>
<div class="line">    0x5d5450d7, 0x990c, 0x4180, {0xa8, 0x3, 0x8e, 0x63, 0xf0, 0x60, 0x83, 0x7  }  \</div>
<div class="line">  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1c97d0762fc3a73bce82a3228022f85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFI_MM_MP_PROTOCOL_REVISION&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0024cf676a0f509052bd0ecf5dda8479"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EFI_MM_MP_TIMEOUT_SUPPORTED&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a59f50364c74acbe682fa0de722a0fe99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_mm_mp_8h.html#a59f50364c74acbe682fa0de722a0fe99">CpuNumber</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acf42b3e1281001cc5d435974a70c7353"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_mm_mp_8h.html#ac87475224dcff4ec2e87fc964f3c9d64">MM_COMPLETION</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a> * <a class="el" href="_mm_mp_8h.html#acf42b3e1281001cc5d435974a70c7353">CPUStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8b8a7f97f74cafef6f1117587a2d7be2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___e_f_i___m_m___m_p___p_r_o_t_o_c_o_l.html">_EFI_MM_MP_PROTOCOL</a> <a class="el" href="_mm_mp_8h.html#a8b8a7f97f74cafef6f1117587a2d7be2">EFI_MM_MP_PROTOCOL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac87475224dcff4ec2e87fc964f3c9d64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a>* <a class="el" href="_mm_mp_8h.html#ac87475224dcff4ec2e87fc964f3c9d64">MM_COMPLETION</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a113968e3f1e802198537ade49f81be6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a>* <a class="el" href="_mp_services_8h.html#af835800a5101667e5b376c06f09f65cc">NumberOfProcessors</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a99aaab118065b812d0c166509e387135"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a8deaaedb2b5c16db85c0118bc89eb961">EFI_AP_PROCEDURE</a> <a class="el" href="_mp_services_8h.html#a99aaab118065b812d0c166509e387135">Procedure</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a07c40d7d74a7b6397fb80ab693feda48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a8deaaedb2b5c16db85c0118bc89eb961">EFI_AP_PROCEDURE</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="_shell_8h.html#aa8ff5bd3c2d6cb377b1dd3bbe3e0cfa8">VOID</a> * <a class="el" href="_mm_mp_8h.html#a07c40d7d74a7b6397fb80ab693feda48">ProcedureArguments</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a36df7038b0b0f3fddf8383f68f8e1d98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_pi_multi_phase_8h.html#a903627133b4a10b3a3424ead4a23cc4c">EFI_AP_PROCEDURE2</a> <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_ia32_2_processor_bind_8h.html#ac0b1ca9b01db611e0f7f2080a2699135">UINTN</a> <a class="el" href="_mp_services_8h.html#a36df7038b0b0f3fddf8383f68f8e1d98">TimeoutInMicroseconds</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab0b8f93c3948ca5eeff1232e736cb1d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="_mm_mp_8h.html#ac87475224dcff4ec2e87fc964f3c9d64">MM_COMPLETION</a> <a class="el" href="_block_io_crypto_8h.html#a57b20b6e30653e3eb65f89c9df13ebeb">Token</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa18399d5f31e89262257e650f099996b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_uefi_base_type_8h.html#aa8fe0c70f8531326ad565427ea96c1f4">EFI_STATUS</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_ebc_2_processor_bind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> *&#160;</td>
          <td class="paramname"><em>EFI_WAIT_FOR_PROCEDURE</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Service to retrieves the number of logical processor in the platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">This</td><td>The EFI_MM_MP_PROTOCOL instance. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">NumberOfProcessors</td><td>Pointer to the total number of logical processors in the system, including the BSP and all APs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The number of processors was retrieved successfully </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>NumberOfProcessors is NULL</td></tr>
  </table>
  </dd>
</dl>
<p>This service allows the caller to invoke a procedure one of the application processors (AP). This function uses an optional token parameter to support blocking and non-blocking modes. If the token is passed into the call, the function will operate in a non-blocking fashion and the caller can check for completion with CheckOnProcedure or WaitForProcedure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">This</td><td>The EFI_MM_MP_PROTOCOL instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Procedure</td><td>A pointer to the procedure to be run on the designated target AP of the system. Type EFI_AP_PROCEDURE2 is defined below in related definitions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CpuNumber</td><td>The zero-based index of the processor number of the target AP, on which the code stream is supposed to run. If the number points to the calling processor then it will not run the supplied code. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TimeoutInMicroseconds</td><td>Indicates the time limit in microseconds for this AP to finish execution of Procedure, either for blocking or non-blocking mode. Zero means infinity. If the timeout expires before this AP returns from Procedure, then Procedure on the AP is terminated. If the timeout expires in blocking mode, the call returns EFI_TIMEOUT. If the timeout expires in non-blocking mode, the timeout determined can be through CheckOnProcedure or WaitForProcedure. Note that timeout support is optional. Whether an implementation supports this feature, can be determined via the Attributes data member. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ProcedureArguments</td><td>Allows the caller to pass a list of parameters to the code that is run by the AP. It is an optional common mailbox between APs and the caller to share information. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Token</td><td>This is parameter is broken into two components: 1.Token-&gt;Completion is an optional parameter that allows the caller to execute the procedure in a blocking or non-blocking fashion. If it is NULL the call is blocking, and the call will not return until the AP has completed the procedure. If the token is not NULL, the call will return immediately. The caller can check whether the procedure has completed with CheckOnProcedure or WaitForProcedure. 2.Token-&gt;Status The implementation updates the address pointed at by this variable with the status code returned by Procedure when it completes execution on the target AP, or with EFI_TIMEOUT if the Procedure fails to complete within the optional timeout. The implementation will update this variable with EFI_NOT_READY prior to starting Procedure on the target AP. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CPUStatus</td><td>This optional pointer may be used to get the status code returned by Procedure when it completes execution on the target AP, or with EFI_TIMEOUT if the Procedure fails to complete within the optional timeout. The implementation will update this variable with EFI_NOT_READY prior to starting Procedure on the target AP.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>In the blocking case, this indicates that Procedure has completed execution on the target AP. In the non-blocking case this indicates that the procedure has been successfully scheduled for execution on the target AP. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>The input arguments are out of range. Either the target AP is the caller of the function, or the Procedure or Token is NULL </td></tr>
    <tr><td class="paramname">EFI_NOT_READY</td><td>If the target AP is busy executing another procedure </td></tr>
    <tr><td class="paramname">EFI_ALREADY_STARTED</td><td>Token is already in use for another procedure </td></tr>
    <tr><td class="paramname">EFI_TIMEOUT</td><td>In blocking mode, the timeout expired before the specified AP has finished</td></tr>
  </table>
  </dd>
</dl>
<p>This service allows the caller to invoke a procedure on all running application processors (AP) except the caller. This function uses an optional token parameter to support blocking and nonblocking modes. If the token is passed into the call, the function will operate in a non-blocking fashion and the caller can check for completion with CheckOnProcedure or WaitForProcedure.</p>
<p>It is not necessary for the implementation to run the procedure on every processor on the platform. Processors that are powered down in such a way that they cannot respond to interrupts, may be excluded from the broadcast.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">This</td><td>The EFI_MM_MP_PROTOCOL instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Procedure</td><td>A pointer to the code stream to be run on the APs that have entered MM. Type EFI_AP_PROCEDURE is defined below in related definitions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TimeoutInMicroseconds</td><td>Indicates the time limit in microseconds for the APs to finish execution of Procedure, either for blocking or non-blocking mode. Zero means infinity. If the timeout expires before all APs return from Procedure, then Procedure on the failed APs is terminated. If the timeout expires in blocking mode, the call returns EFI_TIMEOUT. If the timeout expires in non-blocking mode, the timeout determined can be through CheckOnProcedure or WaitForProcedure. Note that timeout support is optional. Whether an implementation supports this feature can be determined via the Attributes data member. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ProcedureArguments</td><td>Allows the caller to pass a list of parameters to the code that is run by the AP. It is an optional common mailbox between APs and the caller to share information. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Token</td><td>This is parameter is broken into two components: 1.Token-&gt;Completion is an optional parameter that allows the caller to execute the procedure in a blocking or non-blocking fashion. If it is NULL the call is blocking, and the call will not return until the AP has completed the procedure. If the token is not NULL, the call will return immediately. The caller can check whether the procedure has completed with CheckOnProcedure or WaitForProcedure. 2.Token-&gt;Status The implementation updates the address pointed at by this variable with the status code returned by Procedure when it completes execution on the target AP, or with EFI_TIMEOUT if the Procedure fails to complete within the optional timeout. The implementation will update this variable with EFI_NOT_READY prior to starting Procedure on the target AP </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CPUStatus</td><td>This optional pointer may be used to get the individual status returned by every AP that participated in the broadcast. This parameter if used provides the base address of an array to hold the EFI_STATUS value of each AP in the system. The size of the array can be ascertained by the GetNumberOfProcessors function. As mentioned above, the broadcast may not include every processor in the system. Some implementations may exclude processors that have been powered down in such a way that they are not responsive to interrupts. Additionally the broadcast excludes the processor which is making the BroadcastProcedure call. For every excluded processor, the array entry must contain a value of EFI_NOT_STARTED</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>In the blocking case, this indicates that Procedure has completed execution on the APs. In the non-blocking case this indicates that the procedure has been successfully scheduled for execution on the APs. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>Procedure or Token is NULL. </td></tr>
    <tr><td class="paramname">EFI_NOT_READY</td><td>If a target AP is busy executing another procedure. </td></tr>
    <tr><td class="paramname">EFI_TIMEOUT</td><td>In blocking mode, the timeout expired before all enabled APs have finished. </td></tr>
    <tr><td class="paramname">EFI_ALREADY_STARTED</td><td>Before the AP procedure associated with the Token is finished, the same Token cannot be used to dispatch or broadcast another procedure.</td></tr>
  </table>
  </dd>
</dl>
<p>This service allows the caller to set a startup procedure that will be executed when an AP powers up from a state where core configuration and context is lost. The procedure is execution has the following properties:</p>
<ol type="1">
<li>The procedure executes before the processor is handed over to the operating system.</li>
<li>All processors execute the same startup procedure.</li>
<li>The procedure may run in parallel with other procedures invoked through the functions in this protocol, or with processors that are executing an MM handler or running in the operating system.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">This</td><td>The EFI_MM_MP_PROTOCOL instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Procedure</td><td>A pointer to the code stream to be run on the designated target AP of the system. Type EFI_AP_PROCEDURE is defined below in Volume 2 with the related definitions of <a class="el" href="struct___e_f_i___m_p___s_e_r_v_i_c_e_s___p_r_o_t_o_c_o_l.html#aad259e733022495f164a13780d650f78">EFI_MP_SERVICES_PROTOCOL.StartupAllAPs</a>. If caller may pass a value of NULL to deregister any existing startup procedure. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ProcedureArguments</td><td>Allows the caller to pass a list of parameters to the code that is run by the AP. It is an optional common mailbox between APs and the caller to share information</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The Procedure has been set successfully. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>The Procedure is NULL.</td></tr>
  </table>
  </dd>
</dl>
<p>When non-blocking execution of a procedure on an AP is invoked with DispatchProcedure, via the use of a token, this function can be used to check for completion of the procedure on the AP. The function takes the token that was passed into the DispatchProcedure call. If the procedure is complete, and therefore it is now possible to run another procedure on the same AP, this function returns EFI_SUCESS. In this case the status returned by the procedure that executed on the AP is returned in the token's Status field. If the procedure has not yet completed, then this function returns EFI_NOT_READY.</p>
<p>When a non-blocking execution of a procedure is invoked with BroadcastProcedure, via the use of a token, this function can be used to check for completion of the procedure on all the broadcast APs. The function takes the token that was passed into the BroadcastProcedure call. If the procedure is complete on all broadcast APs this function returns EFI_SUCESS. In this case the Status field in the token passed into the function reflects the overall result of the invocation, which may be EFI_SUCCESS, if all executions succeeded, or the first observed failure. If the procedure has not yet completed on the broadcast APs, the function returns EFI_NOT_READY.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">This</td><td>The EFI_MM_MP_PROTOCOL instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Token</td><td>This parameter describes the token that was passed into DispatchProcedure or BroadcastProcedure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Procedure has completed. </td></tr>
    <tr><td class="paramname">EFI_NOT_READY</td><td>The Procedure has not completed. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>Token or Token-&gt;Completion is NULL </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>Token is not currently in use for a non-blocking call</td></tr>
  </table>
  </dd>
</dl>
<p>When a non-blocking execution of a procedure on an AP is invoked via DispatchProcedure, this function will block the caller until the remote procedure has completed on the designated AP. The non-blocking procedure invocation is identified by the Token parameter, which must match the token that used when DispatchProcedure was called. Upon completion the status returned by the procedure that executed on the AP is used to update the token's Status field.</p>
<p>When a non-blocking execution of a procedure on an AP is invoked via BroadcastProcedure this function will block the caller until the remote procedure has completed on all of the APs that entered MM. The non-blocking procedure invocation is identified by the Token parameter, which must match the token that used when BroadcastProcedure was called. Upon completion the overall status returned by the procedures that executed on the broadcast AP is used to update the token's Status field. The overall status may be EFI_SUCCESS, if all executions succeeded, or the first observed failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">This</td><td>The EFI_MM_MP_PROTOCOL instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Token</td><td>This parameter describes the token that was passed into DispatchProcedure or BroadcastProcedure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Procedure has completed. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>Token or Token-&gt;Completion is NULL </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>Token is not currently in use for a non-blocking call </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ac03a832ffaa2db16f2e41cd3f8af9d64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_uefi_base_type_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a> gEfiMmMpProtocolGuid</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c048fdeadf06364e9318d2cbb3390051.html">MdePkg</a></li><li class="navelem"><a class="el" href="dir_525332e2e2b2ed96fb8f8316b580bf1e.html">Include</a></li><li class="navelem"><a class="el" href="dir_c891243080d8325efd53abbaaf181a0e.html">Protocol</a></li><li class="navelem"><a class="el" href="_mm_mp_8h.html">MmMp.h</a></li>
    <li class="footer">Generated on Sun Dec 5 2021 02:59:36 for MdePkg[all] by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
