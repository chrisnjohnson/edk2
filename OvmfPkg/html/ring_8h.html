<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>OvmfPkg[all]: OvmfPkg/Include/IndustryStandard/Xen/io/ring.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OvmfPkg[all]
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ring_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">ring.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a626cd8fbf50bd0b9d65827a8fc27bfb5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a>()&#160;&#160;&#160;mb()</td></tr>
<tr class="separator:a626cd8fbf50bd0b9d65827a8fc27bfb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd936b43f2d4c5083e2bbbd14162d26"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a6cd936b43f2d4c5083e2bbbd14162d26">xen_rmb</a>()&#160;&#160;&#160;rmb()</td></tr>
<tr class="separator:a6cd936b43f2d4c5083e2bbbd14162d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad81e6d6cf04f7bf7c62369f0ff9cca36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">xen_wmb</a>()&#160;&#160;&#160;wmb()</td></tr>
<tr class="separator:ad81e6d6cf04f7bf7c62369f0ff9cca36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d95f92ab85da60156ec8b11847f026f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a7d95f92ab85da60156ec8b11847f026f">__RD2</a>(_x)&#160;&#160;&#160;(((_x) &amp; 0x00000002) ? 0x2                  : ((_x) &amp; 0x1))</td></tr>
<tr class="separator:a7d95f92ab85da60156ec8b11847f026f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b113c0d52b8150f7ee663e4eaf248d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a3b113c0d52b8150f7ee663e4eaf248d5">__RD4</a>(_x)&#160;&#160;&#160;(((_x) &amp; 0x0000000c) ? __RD2((_x)&gt;&gt;2)&lt;&lt;2    : __RD2(_x))</td></tr>
<tr class="separator:a3b113c0d52b8150f7ee663e4eaf248d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a2ae0b647fda4ec4ba9169f36813bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a35a2ae0b647fda4ec4ba9169f36813bb">__RD8</a>(_x)&#160;&#160;&#160;(((_x) &amp; 0x000000f0) ? __RD4((_x)&gt;&gt;4)&lt;&lt;4    : __RD4(_x))</td></tr>
<tr class="separator:a35a2ae0b647fda4ec4ba9169f36813bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a440b6d42f72bb47d0de4ce43ea5f1ade"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a440b6d42f72bb47d0de4ce43ea5f1ade">__RD16</a>(_x)&#160;&#160;&#160;(((_x) &amp; 0x0000ff00) ? __RD8((_x)&gt;&gt;8)&lt;&lt;8    : __RD8(_x))</td></tr>
<tr class="separator:a440b6d42f72bb47d0de4ce43ea5f1ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e51d888caffb90b9b3e29e7ed72519"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a84e51d888caffb90b9b3e29e7ed72519">__RD32</a>(_x)&#160;&#160;&#160;(((_x) &amp; 0xffff0000) ? __RD16((_x)&gt;&gt;16)&lt;&lt;16 : __RD16(_x))</td></tr>
<tr class="separator:a84e51d888caffb90b9b3e29e7ed72519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ac435dcfd299a2a5bcfd256f3abda4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a70ac435dcfd299a2a5bcfd256f3abda4">__CONST_RING_SIZE</a>(_s, _sz)</td></tr>
<tr class="separator:a70ac435dcfd299a2a5bcfd256f3abda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d444290279dc4e9bf49926141799f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a54d444290279dc4e9bf49926141799f4">__RING_SIZE</a>(_s, _sz)&#160;&#160;&#160;(<a class="el" href="ring_8h.html#a84e51d888caffb90b9b3e29e7ed72519">__RD32</a>(((_sz) - (INTN)(_s)-&gt;ring + (INTN)(_s)) / sizeof((_s)-&gt;ring[0])))</td></tr>
<tr class="separator:a54d444290279dc4e9bf49926141799f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42df24686fde4d5825a69e2b3503ef82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a42df24686fde4d5825a69e2b3503ef82">DEFINE_RING_TYPES</a>(__name, __req_t, __rsp_t)</td></tr>
<tr class="separator:a42df24686fde4d5825a69e2b3503ef82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a514e7aa9c02fcb701874297d485d1982"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a514e7aa9c02fcb701874297d485d1982">SHARED_RING_INIT</a>(_s)</td></tr>
<tr class="separator:a514e7aa9c02fcb701874297d485d1982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e121532a3719ea6d3d47a5ea802a2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#ab5e121532a3719ea6d3d47a5ea802a2a">FRONT_RING_INIT</a>(_r, _s, __size)</td></tr>
<tr class="separator:ab5e121532a3719ea6d3d47a5ea802a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7f91429b9f68ad3b03e618b78d975a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#abb7f91429b9f68ad3b03e618b78d975a">BACK_RING_INIT</a>(_r, _s, __size)</td></tr>
<tr class="separator:abb7f91429b9f68ad3b03e618b78d975a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4422826a36dacef88b115767bbc444e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r)&#160;&#160;&#160;((_r)-&gt;nr_ents)</td></tr>
<tr class="separator:a4422826a36dacef88b115767bbc444e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f7a50f90e34e5972d6c5f7f3a2bff6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a2f7a50f90e34e5972d6c5f7f3a2bff6d">RING_FREE_REQUESTS</a>(_r)&#160;&#160;&#160;(<a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r) - ((_r)-&gt;req_prod_pvt - (_r)-&gt;rsp_cons))</td></tr>
<tr class="separator:a2f7a50f90e34e5972d6c5f7f3a2bff6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7646235b93618688036a5509a0dae5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#ade7646235b93618688036a5509a0dae5">RING_FULL</a>(_r)&#160;&#160;&#160;(<a class="el" href="ring_8h.html#a2f7a50f90e34e5972d6c5f7f3a2bff6d">RING_FREE_REQUESTS</a>(_r) == 0)</td></tr>
<tr class="separator:ade7646235b93618688036a5509a0dae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed52a6b1250ac2b8b086602265e04be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#aeed52a6b1250ac2b8b086602265e04be">RING_HAS_UNCONSUMED_RESPONSES</a>(_r)&#160;&#160;&#160;((_r)-&gt;sring-&gt;rsp_prod - (_r)-&gt;rsp_cons)</td></tr>
<tr class="separator:aeed52a6b1250ac2b8b086602265e04be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3212813350cc892a4ae917e7deb18d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#aad3212813350cc892a4ae917e7deb18d">RING_HAS_UNCONSUMED_REQUESTS</a>(_r)</td></tr>
<tr class="separator:aad3212813350cc892a4ae917e7deb18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5baa89c528e55d00353312a505854a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a5b5baa89c528e55d00353312a505854a">RING_GET_REQUEST</a>(_r, _idx)&#160;&#160;&#160;(&amp;((_r)-&gt;sring-&gt;ring[((_idx) &amp; (<a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r) - 1))].req))</td></tr>
<tr class="separator:a5b5baa89c528e55d00353312a505854a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cfb4674689c21e86137e534373699f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a6cfb4674689c21e86137e534373699f0">RING_GET_RESPONSE</a>(_r, _idx)&#160;&#160;&#160;(&amp;((_r)-&gt;sring-&gt;ring[((_idx) &amp; (<a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r) - 1))].rsp))</td></tr>
<tr class="separator:a6cfb4674689c21e86137e534373699f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e35a97241da84de2392d7cc0e46f5e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#af8e35a97241da84de2392d7cc0e46f5e">RING_REQUEST_CONS_OVERFLOW</a>(_r, _cons)&#160;&#160;&#160;(((_cons) - (_r)-&gt;rsp_prod_pvt) &gt;= <a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r))</td></tr>
<tr class="separator:af8e35a97241da84de2392d7cc0e46f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed11805682259e3e46da37bcc0c3c09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a2ed11805682259e3e46da37bcc0c3c09">RING_REQUEST_PROD_OVERFLOW</a>(_r, _prod)&#160;&#160;&#160;(((_prod) - (_r)-&gt;rsp_prod_pvt) &gt; <a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r))</td></tr>
<tr class="separator:a2ed11805682259e3e46da37bcc0c3c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ee4d42884820e6f3ad11c998d96e09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a38ee4d42884820e6f3ad11c998d96e09">RING_PUSH_REQUESTS</a>(_r)</td></tr>
<tr class="separator:a38ee4d42884820e6f3ad11c998d96e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d249ce5d0e41bf7f170296b8dc812e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a2d249ce5d0e41bf7f170296b8dc812e3">RING_PUSH_RESPONSES</a>(_r)</td></tr>
<tr class="separator:a2d249ce5d0e41bf7f170296b8dc812e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2238e0c9bd3a74edb277e188dbbc9610"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a2238e0c9bd3a74edb277e188dbbc9610">RING_PUSH_REQUESTS_AND_CHECK_NOTIFY</a>(_r, _notify)</td></tr>
<tr class="separator:a2238e0c9bd3a74edb277e188dbbc9610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a2fd815cfa06dd5ca38aab99740385"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a30a2fd815cfa06dd5ca38aab99740385">RING_PUSH_RESPONSES_AND_CHECK_NOTIFY</a>(_r, _notify)</td></tr>
<tr class="separator:a30a2fd815cfa06dd5ca38aab99740385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9159bfb680397956ccfc357b9268e7cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#a9159bfb680397956ccfc357b9268e7cb">RING_FINAL_CHECK_FOR_REQUESTS</a>(_r, _work_to_do)</td></tr>
<tr class="separator:a9159bfb680397956ccfc357b9268e7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad73b5cb3f6bd37647cf9bd0de4a64c05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#ad73b5cb3f6bd37647cf9bd0de4a64c05">RING_FINAL_CHECK_FOR_RESPONSES</a>(_r, _work_to_do)</td></tr>
<tr class="separator:ad73b5cb3f6bd37647cf9bd0de4a64c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aba5ec147f276a9f00e234620b582979b"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_xen_bus_8h.html#aa0673361ea749da32bbeeffdab834abb">UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a></td></tr>
<tr class="separator:aba5ec147f276a9f00e234620b582979b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a70ac435dcfd299a2a5bcfd256f3abda4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __CONST_RING_SIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_sz&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="ring_8h.html#a84e51d888caffb90b9b3e29e7ed72519">__RD32</a>(((_sz) - offsetof(<span class="keyword">struct</span> _s##_sring, ring)) / \</div>
<div class="line">      <span class="keyword">sizeof</span>(((<span class="keyword">struct</span> _s##_sring *)0)-&gt;ring[0])))</div>
<div class="ttc" id="ring_8h_html_a84e51d888caffb90b9b3e29e7ed72519"><div class="ttname"><a href="ring_8h.html#a84e51d888caffb90b9b3e29e7ed72519">__RD32</a></div><div class="ttdeci">#define __RD32(_x)</div><div class="ttdef"><b>Definition:</b> ring.h:29</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a440b6d42f72bb47d0de4ce43ea5f1ade"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RD16</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_x</td><td>)</td>
          <td>&#160;&#160;&#160;(((_x) &amp; 0x0000ff00) ? __RD8((_x)&gt;&gt;8)&lt;&lt;8    : __RD8(_x))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7d95f92ab85da60156ec8b11847f026f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RD2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_x</td><td>)</td>
          <td>&#160;&#160;&#160;(((_x) &amp; 0x00000002) ? 0x2                  : ((_x) &amp; 0x1))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a84e51d888caffb90b9b3e29e7ed72519"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RD32</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_x</td><td>)</td>
          <td>&#160;&#160;&#160;(((_x) &amp; 0xffff0000) ? __RD16((_x)&gt;&gt;16)&lt;&lt;16 : __RD16(_x))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b113c0d52b8150f7ee663e4eaf248d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RD4</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_x</td><td>)</td>
          <td>&#160;&#160;&#160;(((_x) &amp; 0x0000000c) ? __RD2((_x)&gt;&gt;2)&lt;&lt;2    : __RD2(_x))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a35a2ae0b647fda4ec4ba9169f36813bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RD8</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_x</td><td>)</td>
          <td>&#160;&#160;&#160;(((_x) &amp; 0x000000f0) ? __RD4((_x)&gt;&gt;4)&lt;&lt;4    : __RD4(_x))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a54d444290279dc4e9bf49926141799f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __RING_SIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_sz&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(<a class="el" href="ring_8h.html#a84e51d888caffb90b9b3e29e7ed72519">__RD32</a>(((_sz) - (INTN)(_s)-&gt;ring + (INTN)(_s)) / sizeof((_s)-&gt;ring[0])))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abb7f91429b9f68ad3b03e618b78d975a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BACK_RING_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                             \</div>
<div class="line">    (_r)-&gt;rsp_prod_pvt = 0;                                             \</div>
<div class="line">    (_r)-&gt;req_cons = 0;                                                 \</div>
<div class="line">    (_r)-&gt;nr_ents = <a class="code" href="ring_8h.html#a54d444290279dc4e9bf49926141799f4">__RING_SIZE</a>(_s, __size);                            \</div>
<div class="line">    (_r)-&gt;sring = (_s);                                                 \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="ring_8h_html_a54d444290279dc4e9bf49926141799f4"><div class="ttname"><a href="ring_8h.html#a54d444290279dc4e9bf49926141799f4">__RING_SIZE</a></div><div class="ttdeci">#define __RING_SIZE(_s, _sz)</div><div class="ttdef"><b>Definition:</b> ring.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42df24686fde4d5825a69e2b3503ef82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFINE_RING_TYPES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__req_t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__rsp_t&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab5e121532a3719ea6d3d47a5ea802a2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRONT_RING_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                            \</div>
<div class="line">    (_r)-&gt;req_prod_pvt = 0;                                             \</div>
<div class="line">    (_r)-&gt;rsp_cons = 0;                                                 \</div>
<div class="line">    (_r)-&gt;nr_ents = <a class="code" href="ring_8h.html#a54d444290279dc4e9bf49926141799f4">__RING_SIZE</a>(_s, __size);                            \</div>
<div class="line">    (_r)-&gt;sring = (_s);                                                 \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="ring_8h_html_a54d444290279dc4e9bf49926141799f4"><div class="ttname"><a href="ring_8h.html#a54d444290279dc4e9bf49926141799f4">__RING_SIZE</a></div><div class="ttdeci">#define __RING_SIZE(_s, _sz)</div><div class="ttdef"><b>Definition:</b> ring.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9159bfb680397956ccfc357b9268e7cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_FINAL_CHECK_FOR_REQUESTS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_work_to_do&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {             \</div>
<div class="line">    (_work_to_do) = <a class="code" href="ring_8h.html#aad3212813350cc892a4ae917e7deb18d">RING_HAS_UNCONSUMED_REQUESTS</a>(_r);                   \</div>
<div class="line">    if (_work_to_do) break;                                             \</div>
<div class="line">    (_r)-&gt;sring-&gt;req_event = (_r)-&gt;req_cons + 1;                        \</div>
<div class="line">    <a class="code" href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a>();                                                           \</div>
<div class="line">    (_work_to_do) = <a class="code" href="ring_8h.html#aad3212813350cc892a4ae917e7deb18d">RING_HAS_UNCONSUMED_REQUESTS</a>(_r);                   \</div>
<div class="line">} while (0)</div>
<div class="ttc" id="ring_8h_html_aad3212813350cc892a4ae917e7deb18d"><div class="ttname"><a href="ring_8h.html#aad3212813350cc892a4ae917e7deb18d">RING_HAS_UNCONSUMED_REQUESTS</a></div><div class="ttdeci">#define RING_HAS_UNCONSUMED_REQUESTS(_r)</div><div class="ttdef"><b>Definition:</b> ring.h:180</div></div>
<div class="ttc" id="ring_8h_html_a626cd8fbf50bd0b9d65827a8fc27bfb5"><div class="ttname"><a href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a></div><div class="ttdeci">#define xen_mb()</div><div class="ttdef"><b>Definition:</b> ring.h:17</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad73b5cb3f6bd37647cf9bd0de4a64c05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_FINAL_CHECK_FOR_RESPONSES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_work_to_do&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {            \</div>
<div class="line">    (_work_to_do) = <a class="code" href="ring_8h.html#aeed52a6b1250ac2b8b086602265e04be">RING_HAS_UNCONSUMED_RESPONSES</a>(_r);                  \</div>
<div class="line">    if (_work_to_do) break;                                             \</div>
<div class="line">    (_r)-&gt;sring-&gt;rsp_event = (_r)-&gt;rsp_cons + 1;                        \</div>
<div class="line">    <a class="code" href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a>();                                                           \</div>
<div class="line">    (_work_to_do) = <a class="code" href="ring_8h.html#aeed52a6b1250ac2b8b086602265e04be">RING_HAS_UNCONSUMED_RESPONSES</a>(_r);                  \</div>
<div class="line">} while (0)</div>
<div class="ttc" id="ring_8h_html_a626cd8fbf50bd0b9d65827a8fc27bfb5"><div class="ttname"><a href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a></div><div class="ttdeci">#define xen_mb()</div><div class="ttdef"><b>Definition:</b> ring.h:17</div></div>
<div class="ttc" id="ring_8h_html_aeed52a6b1250ac2b8b086602265e04be"><div class="ttname"><a href="ring_8h.html#aeed52a6b1250ac2b8b086602265e04be">RING_HAS_UNCONSUMED_RESPONSES</a></div><div class="ttdeci">#define RING_HAS_UNCONSUMED_RESPONSES(_r)</div><div class="ttdef"><b>Definition:</b> ring.h:176</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2f7a50f90e34e5972d6c5f7f3a2bff6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_FREE_REQUESTS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r) - ((_r)-&gt;req_prod_pvt - (_r)-&gt;rsp_cons))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ade7646235b93618688036a5509a0dae5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_FULL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="ring_8h.html#a2f7a50f90e34e5972d6c5f7f3a2bff6d">RING_FREE_REQUESTS</a>(_r) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5b5baa89c528e55d00353312a505854a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_GET_REQUEST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_idx&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(&amp;((_r)-&gt;sring-&gt;ring[((_idx) &amp; (<a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r) - 1))].req))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6cfb4674689c21e86137e534373699f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_GET_RESPONSE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_idx&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(&amp;((_r)-&gt;sring-&gt;ring[((_idx) &amp; (<a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r) - 1))].rsp))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aad3212813350cc892a4ae917e7deb18d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_HAS_UNCONSUMED_REQUESTS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">({                             <a class="code" href="_xen_bus_8h.html#aa0673361ea749da32bbeeffdab834abb">\</a></div>
<div class="line"><a class="code" href="_xen_bus_8h.html#aa0673361ea749da32bbeeffdab834abb">    UINT32</a> req = (_r)-&gt;sring-&gt;req_prod - (_r)-&gt;req_cons;          <a class="code" href="_xen_bus_8h.html#aa0673361ea749da32bbeeffdab834abb">\</a></div>
<div class="line"><a class="code" href="_xen_bus_8h.html#aa0673361ea749da32bbeeffdab834abb">    UINT32</a> rsp = <a class="code" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r) -                                  \</div>
<div class="line">        ((_r)-&gt;req_cons - (_r)-&gt;rsp_prod_pvt);                          \</div>
<div class="line">    req &lt; rsp ? req : rsp;                                              \</div>
<div class="line">})</div>
<div class="ttc" id="ring_8h_html_a4422826a36dacef88b115767bbc444e5"><div class="ttname"><a href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a></div><div class="ttdeci">#define RING_SIZE(_r)</div><div class="ttdef"><b>Definition:</b> ring.h:162</div></div>
<div class="ttc" id="_xen_bus_8h_html_aa0673361ea749da32bbeeffdab834abb"><div class="ttname"><a href="_xen_bus_8h.html#aa0673361ea749da32bbeeffdab834abb">UINT32</a></div><div class="ttdeci">typedef UINT32(EFIAPI *XENBUS_EVENT_CHANNEL_ALLOCATE)(IN XENBUS_PROTOCOL *This</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeed52a6b1250ac2b8b086602265e04be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_HAS_UNCONSUMED_RESPONSES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r</td><td>)</td>
          <td>&#160;&#160;&#160;((_r)-&gt;sring-&gt;rsp_prod - (_r)-&gt;rsp_cons)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a38ee4d42884820e6f3ad11c998d96e09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_PUSH_REQUESTS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                     <a class="code" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">\</a></div>
<div class="line"><a class="code" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">    xen_wmb</a>(); <span class="comment">/* back sees requests /before/ updated producer index */</span> \</div>
<div class="line">    (_r)-&gt;sring-&gt;req_prod = (_r)-&gt;req_prod_pvt;                         \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="ring_8h_html_ad81e6d6cf04f7bf7c62369f0ff9cca36"><div class="ttname"><a href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">xen_wmb</a></div><div class="ttdeci">#define xen_wmb()</div><div class="ttdef"><b>Definition:</b> ring.h:19</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2238e0c9bd3a74edb277e188dbbc9610"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_PUSH_REQUESTS_AND_CHECK_NOTIFY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_notify&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {           <a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">\</a></div>
<div class="line"><a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">    RING_IDX</a> __old = (_r)-&gt;sring-&gt;req_prod;                             \</div>
<div class="line">    <a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a> __new = (_r)-&gt;req_prod_pvt;                                <a class="code" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">\</a></div>
<div class="line"><a class="code" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">    xen_wmb</a>(); <span class="comment">/* back sees requests /before/ updated producer index */</span> \</div>
<div class="line">    (_r)-&gt;sring-&gt;req_prod = __new;                                      \</div>
<div class="line">    <a class="code" href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a>(); <span class="comment">/* back sees new requests /before/ we check req_event */</span>  \</div>
<div class="line">    (_notify) = ((<a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a>)(__new - (_r)-&gt;sring-&gt;req_event) &lt;           \</div>
<div class="line">                 (<a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a>)(__new - __old));                            \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="ring_8h_html_a626cd8fbf50bd0b9d65827a8fc27bfb5"><div class="ttname"><a href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a></div><div class="ttdeci">#define xen_mb()</div><div class="ttdef"><b>Definition:</b> ring.h:17</div></div>
<div class="ttc" id="ring_8h_html_ad81e6d6cf04f7bf7c62369f0ff9cca36"><div class="ttname"><a href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">xen_wmb</a></div><div class="ttdeci">#define xen_wmb()</div><div class="ttdef"><b>Definition:</b> ring.h:19</div></div>
<div class="ttc" id="ring_8h_html_aba5ec147f276a9f00e234620b582979b"><div class="ttname"><a href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a></div><div class="ttdeci">UINT32 RING_IDX</div><div class="ttdef"><b>Definition:</b> ring.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d249ce5d0e41bf7f170296b8dc812e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_PUSH_RESPONSES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                    <a class="code" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">\</a></div>
<div class="line"><a class="code" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">    xen_wmb</a>(); <span class="comment">/* front sees resps /before/ updated producer index */</span>   \</div>
<div class="line">    (_r)-&gt;sring-&gt;rsp_prod = (_r)-&gt;rsp_prod_pvt;                         \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="ring_8h_html_ad81e6d6cf04f7bf7c62369f0ff9cca36"><div class="ttname"><a href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">xen_wmb</a></div><div class="ttdeci">#define xen_wmb()</div><div class="ttdef"><b>Definition:</b> ring.h:19</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a30a2fd815cfa06dd5ca38aab99740385"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_PUSH_RESPONSES_AND_CHECK_NOTIFY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_notify&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {          <a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">\</a></div>
<div class="line"><a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">    RING_IDX</a> __old = (_r)-&gt;sring-&gt;rsp_prod;                             \</div>
<div class="line">    <a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a> __new = (_r)-&gt;rsp_prod_pvt;                                <a class="code" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">\</a></div>
<div class="line"><a class="code" href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">    xen_wmb</a>(); <span class="comment">/* front sees resps /before/ updated producer index */</span>   \</div>
<div class="line">    (_r)-&gt;sring-&gt;rsp_prod = __new;                                      \</div>
<div class="line">    <a class="code" href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a>(); <span class="comment">/* front sees new resps /before/ we check rsp_event */</span>    \</div>
<div class="line">    (_notify) = ((<a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a>)(__new - (_r)-&gt;sring-&gt;rsp_event) &lt;           \</div>
<div class="line">                 (<a class="code" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a>)(__new - __old));                            \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="ring_8h_html_a626cd8fbf50bd0b9d65827a8fc27bfb5"><div class="ttname"><a href="ring_8h.html#a626cd8fbf50bd0b9d65827a8fc27bfb5">xen_mb</a></div><div class="ttdeci">#define xen_mb()</div><div class="ttdef"><b>Definition:</b> ring.h:17</div></div>
<div class="ttc" id="ring_8h_html_ad81e6d6cf04f7bf7c62369f0ff9cca36"><div class="ttname"><a href="ring_8h.html#ad81e6d6cf04f7bf7c62369f0ff9cca36">xen_wmb</a></div><div class="ttdeci">#define xen_wmb()</div><div class="ttdef"><b>Definition:</b> ring.h:19</div></div>
<div class="ttc" id="ring_8h_html_aba5ec147f276a9f00e234620b582979b"><div class="ttname"><a href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a></div><div class="ttdeci">UINT32 RING_IDX</div><div class="ttdef"><b>Definition:</b> ring.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8e35a97241da84de2392d7cc0e46f5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_REQUEST_CONS_OVERFLOW</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_cons&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((_cons) - (_r)-&gt;rsp_prod_pvt) &gt;= <a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2ed11805682259e3e46da37bcc0c3c09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_REQUEST_PROD_OVERFLOW</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_prod&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((_prod) - (_r)-&gt;rsp_prod_pvt) &gt; <a class="el" href="ring_8h.html#a4422826a36dacef88b115767bbc444e5">RING_SIZE</a>(_r))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4422826a36dacef88b115767bbc444e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_SIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_r</td><td>)</td>
          <td>&#160;&#160;&#160;((_r)-&gt;nr_ents)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a514e7aa9c02fcb701874297d485d1982"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHARED_RING_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_s</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                       \</div>
<div class="line">    (_s)-&gt;req_prod  = (_s)-&gt;rsp_prod  = 0;                              \</div>
<div class="line">    (_s)-&gt;req_event = (_s)-&gt;rsp_event = 1;                              \</div>
<div class="line">    (<a class="code" href="_qemu_fw_cfg_s3_lib_8h.html#a02ffa82fc26da9679a8ec91dfbdcb199">VOID</a>)ZeroMem((_s)-&gt;private.pvt_pad, <span class="keyword">sizeof</span>((_s)-&gt;<span class="keyword">private</span>.pvt_pad)); \</div>
<div class="line">    (<a class="code" href="_qemu_fw_cfg_s3_lib_8h.html#a02ffa82fc26da9679a8ec91dfbdcb199">VOID</a>)ZeroMem((_s)-&gt;__pad, <span class="keyword">sizeof</span>((_s)-&gt;__pad));                  \</div>
<div class="line">} <span class="keywordflow">while</span>(0)</div>
<div class="ttc" id="_qemu_fw_cfg_s3_lib_8h_html_a02ffa82fc26da9679a8ec91dfbdcb199"><div class="ttname"><a href="_qemu_fw_cfg_s3_lib_8h.html#a02ffa82fc26da9679a8ec91dfbdcb199">VOID</a></div><div class="ttdeci">typedef VOID(EFIAPI FW_CFG_BOOT_SCRIPT_CALLBACK_FUNCTION)(IN OUT VOID *Context</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a626cd8fbf50bd0b9d65827a8fc27bfb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xen_mb</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;mb()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6cd936b43f2d4c5083e2bbbd14162d26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xen_rmb</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;rmb()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad81e6d6cf04f7bf7c62369f0ff9cca36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xen_wmb</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;wmb()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aba5ec147f276a9f00e234620b582979b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_xen_bus_8h.html#aa0673361ea749da32bbeeffdab834abb">UINT32</a> <a class="el" href="ring_8h.html#aba5ec147f276a9f00e234620b582979b">RING_IDX</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d546b602c3cb43906682bd039672b96b.html">OvmfPkg</a></li><li class="navelem"><a class="el" href="dir_5548724232a433e37bdfb32ec7a6e13d.html">Include</a></li><li class="navelem"><a class="el" href="dir_c3951ed939a82acc2d55117dffb9ca9c.html">IndustryStandard</a></li><li class="navelem"><a class="el" href="dir_feaec4c537d9e89640a2c6c93db55742.html">Xen</a></li><li class="navelem"><a class="el" href="dir_1b178524b795ccfe308e5a07ed55cb3e.html">io</a></li><li class="navelem"><a class="el" href="ring_8h.html">ring.h</a></li>
    <li class="footer">Generated on Sun Dec 5 2021 03:41:25 for OvmfPkg[all] by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
