<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SourceLevelDebugPkg[all]: SourceLevelDebugPkg/Include/Library/DebugCommunicationLib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SourceLevelDebugPkg[all]
   &#160;<span id="projectnumber">0.96</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_debug_communication_lib_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DebugCommunicationLib.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a74fadf2c0ed992754e75717766634528"><td class="memItemLeft" align="right" valign="top">typedef VOID *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a></td></tr>
<tr class="separator:a74fadf2c0ed992754e75717766634528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3802889e48c6670deb5304c2054fc94"><td class="memItemLeft" align="right" valign="top">typedef VOID(EFIAPI *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_debug_communication_lib_8h.html#ac3802889e48c6670deb5304c2054fc94">DEBUG_PORT_CONTINUE</a> )(IN VOID *Context, IN <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a> DebugPortHandle)</td></tr>
<tr class="separator:ac3802889e48c6670deb5304c2054fc94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a70714b5b090c356039cf3dece930f251"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_debug_communication_lib_8h.html#a70714b5b090c356039cf3dece930f251">DebugPortInitialize</a> (IN VOID *Context, IN <a class="el" href="_debug_communication_lib_8h.html#ac3802889e48c6670deb5304c2054fc94">DEBUG_PORT_CONTINUE</a> Function)</td></tr>
<tr class="separator:a70714b5b090c356039cf3dece930f251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba170dfa19889a24f57d736e9cd00b4"><td class="memItemLeft" align="right" valign="top">UINTN EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_debug_communication_lib_8h.html#a7ba170dfa19889a24f57d736e9cd00b4">DebugPortReadBuffer</a> (IN <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a> Handle, IN UINT8 *Buffer, IN UINTN NumberOfBytes, IN UINTN Timeout)</td></tr>
<tr class="separator:a7ba170dfa19889a24f57d736e9cd00b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d285f2a932fe7a6a36d8543a698885"><td class="memItemLeft" align="right" valign="top">UINTN EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_debug_communication_lib_8h.html#ae7d285f2a932fe7a6a36d8543a698885">DebugPortWriteBuffer</a> (IN <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a> Handle, IN UINT8 *Buffer, IN UINTN NumberOfBytes)</td></tr>
<tr class="separator:ae7d285f2a932fe7a6a36d8543a698885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9681fb7345be5121e9d00aedd6c58b5a"><td class="memItemLeft" align="right" valign="top">BOOLEAN EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_debug_communication_lib_8h.html#a9681fb7345be5121e9d00aedd6c58b5a">DebugPortPollBuffer</a> (IN <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a> Handle)</td></tr>
<tr class="separator:a9681fb7345be5121e9d00aedd6c58b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Debug Communication Library definitions.</p>
<p>Copyright (c) 2010 - 2018, Intel Corporation. All rights reserved.<br/>
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ac3802889e48c6670deb5304c2054fc94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef VOID(EFIAPI * DEBUG_PORT_CONTINUE)(IN VOID *Context, IN <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a> DebugPortHandle)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Caller provided function to be invoked at the end of <a class="el" href="_debug_communication_lib_8h.html#a70714b5b090c356039cf3dece930f251">DebugPortInitialize()</a>.</p>
<p>Refer to the description for <a class="el" href="_debug_communication_lib_8h.html#a70714b5b090c356039cf3dece930f251">DebugPortInitialize()</a> for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Context</td><td>The first input argument of <a class="el" href="_debug_communication_lib_8h.html#a70714b5b090c356039cf3dece930f251">DebugPortInitialize()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DebugPortHandle</td><td>Debug port handle created by Debug Communication Library. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a74fadf2c0ed992754e75717766634528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef VOID* <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a70714b5b090c356039cf3dece930f251"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a> EFIAPI DebugPortInitialize </td>
          <td>(</td>
          <td class="paramtype">IN VOID *&#160;</td>
          <td class="paramname"><em>Context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_debug_communication_lib_8h.html#ac3802889e48c6670deb5304c2054fc94">DEBUG_PORT_CONTINUE</a>&#160;</td>
          <td class="paramname"><em>Function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the debug port.</p>
<p>This function will initialize debug port to get it ready for data transmission. If certain Debug Communication Library instance has to save some private data in the stack, this function must work on the mode that doesn't return to the caller, then the caller needs to wrap up all rest of logic after <a class="el" href="_debug_communication_lib_8h.html#a70714b5b090c356039cf3dece930f251">DebugPortInitialize()</a> into one function and pass it into <a class="el" href="_debug_communication_lib_8h.html#a70714b5b090c356039cf3dece930f251">DebugPortInitialize()</a>. <a class="el" href="_debug_communication_lib_8h.html#a70714b5b090c356039cf3dece930f251">DebugPortInitialize()</a> is responsible to invoke the passing-in function at the end of <a class="el" href="_debug_communication_lib_8h.html#a70714b5b090c356039cf3dece930f251">DebugPortInitialize()</a>.</p>
<p>If the parameter Function is not NULL, Debug Communication Library instance will invoke it by passing in the Context to be the first parameter. Debug Communication Library instance could create one debug port handle to be the second parameter passing into the Function. Debug Communication Library instance also could pass NULL to be the second parameter if it doesn't create the debug port handle.</p>
<p>If the parameter Function is NULL, and Context is not NULL. At this time, Context is the debug port handle created by the previous Debug Communication Library instance. a) If the instance can understand and continue use the private data of the previous instance, it could return the same handle as passed in (as Context parameter). b) If the instance does not understand, or does not want to continue use the private data of the previous instance, it could ignore the input Context parameter and create the new handle to be returned.</p>
<p>If Function() is NULL and Context is NULL, Debug Communication Library could create a new handle and return it. NULL is also a valid handle to be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Context</td><td>Context needed by callback function; it was optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Function</td><td>Continue function called by Debug Communication library; it was optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The debug port handle created by Debug Communication Library if Function is not NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="a9681fb7345be5121e9d00aedd6c58b5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN EFIAPI DebugPortPollBuffer </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a>&#160;</td>
          <td class="paramname"><em>Handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Polls a debug device to see if there is any data waiting to be read.</p>
<p>Polls a debug device to see if there is any data waiting to be read. If there is data waiting to be read from the debug device, then TRUE is returned. If there is no data waiting to be read from the debug device, then FALSE is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Debug port handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Data is waiting to be read from the debug device. </td></tr>
    <tr><td class="paramname">FALSE</td><td>There is no data waiting to be read from the debug device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7ba170dfa19889a24f57d736e9cd00b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINTN EFIAPI DebugPortReadBuffer </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a>&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT8 *&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN&#160;</td>
          <td class="paramname"><em>NumberOfBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read data from debug device and save the datas in buffer.</p>
<p>Reads NumberOfBytes data bytes from a debug device into the buffer specified by Buffer. The number of bytes actually read is returned. If the return value is less than NumberOfBytes, then the rest operation failed. If NumberOfBytes is zero, then return 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Debug port handle. </td></tr>
    <tr><td class="paramname">Buffer</td><td>Pointer to the data buffer to store the data read from the debug device. </td></tr>
    <tr><td class="paramname">NumberOfBytes</td><td>Number of bytes which will be read. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Timeout value for reading from debug device. Its unit is Microsecond.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Read data failed, no data is to be read. </td></tr>
    <tr><td class="paramname">&gt;0</td><td>Actual number of bytes read from debug device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae7d285f2a932fe7a6a36d8543a698885"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINTN EFIAPI DebugPortWriteBuffer </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="_debug_communication_lib_8h.html#a74fadf2c0ed992754e75717766634528">DEBUG_PORT_HANDLE</a>&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT8 *&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN&#160;</td>
          <td class="paramname"><em>NumberOfBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write data from buffer to debug device.</p>
<p>Writes NumberOfBytes data bytes from Buffer to the debug device. The number of bytes actually written to the debug device is returned. If the return value is less than NumberOfBytes, then the write operation failed. If NumberOfBytes is zero, then return 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Debug port handle. </td></tr>
    <tr><td class="paramname">Buffer</td><td>Pointer to the data buffer to be written. </td></tr>
    <tr><td class="paramname">NumberOfBytes</td><td>Number of bytes to written to the debug device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>NumberOfBytes is 0. </td></tr>
    <tr><td class="paramname">&gt;0</td><td>The number of bytes written to the debug device. If this value is less than NumberOfBytes, then the write operation failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bd0ab5f285a4df1031dc720e96a29314.html">SourceLevelDebugPkg</a></li><li class="navelem"><a class="el" href="dir_c1ed238fd94b115582e570bdf7a53bda.html">Include</a></li><li class="navelem"><a class="el" href="dir_630aa99232997eb83e37e7846d505a7b.html">Library</a></li><li class="navelem"><a class="el" href="_debug_communication_lib_8h.html">DebugCommunicationLib.h</a></li>
    <li class="footer">Generated on Sun Dec 5 2021 00:44:22 for SourceLevelDebugPkg[all] by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
