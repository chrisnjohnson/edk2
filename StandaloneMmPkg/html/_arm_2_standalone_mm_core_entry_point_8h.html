<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>StandaloneMmPkg[all]: StandaloneMmPkg/Include/Library/Arm/StandaloneMmCoreEntryPoint.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">StandaloneMmPkg[all]
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_arm_2_standalone_mm_core_entry_point_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">StandaloneMmCoreEntryPoint.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_f_i___p_a_r_a_m___h_e_a_d_e_r.html">EFI_PARAM_HEADER</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_f_i___s_e_c_u_r_e___p_a_r_t_i_t_i_o_n___c_p_u___i_n_f_o.html">EFI_SECURE_PARTITION_CPU_INFO</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_e_f_i___s_e_c_u_r_e___p_a_r_t_i_t_i_o_n___b_o_o_t___i_n_f_o.html">EFI_SECURE_PARTITION_BOOT_INFO</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_r_m___t_f___c_p_u___d_r_i_v_e_r___e_p___d_e_s_c_r_i_p_t_o_r.html">ARM_TF_CPU_DRIVER_EP_DESCRIPTOR</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a997a427ed72c764e6e1ca76377c546c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a997a427ed72c764e6e1ca76377c546c8">CPU_INFO_FLAG_PRIMARY_CPU</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="separator:a997a427ed72c764e6e1ca76377c546c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a4e79e0320e28dd96022050c160245acc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="_standalone_mm_8h.html#a2e29b831587c2eaae74b582d3a2a8a35">EFI_STATUS</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a4e79e0320e28dd96022050c160245acc">PI_MM_ARM_TF_CPU_DRIVER_ENTRYPOINT</a> )(IN UINTN EventId, IN UINTN CpuNumber, IN UINTN NsCommBufferAddr)</td></tr>
<tr class="separator:a4e79e0320e28dd96022050c160245acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859a9e64ec038caa1712f95d0eccf51b"><td class="memItemLeft" align="right" valign="top">typedef RETURN_STATUS(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a859a9e64ec038caa1712f95d0eccf51b">REGION_PERMISSION_UPDATE_FUNC</a> )(IN EFI_PHYSICAL_ADDRESS BaseAddress, IN UINT64 Length)</td></tr>
<tr class="separator:a859a9e64ec038caa1712f95d0eccf51b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aef531ea8845e282ee4f6eb0c9f30a87c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_standalone_mm_8h.html#a2e29b831587c2eaae74b582d3a2a8a35">EFI_STATUS</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#aef531ea8845e282ee4f6eb0c9f30a87c">UpdateMmFoundationPeCoffPermissions</a> (IN CONST PE_COFF_LOADER_IMAGE_CONTEXT *ImageContext, IN EFI_PHYSICAL_ADDRESS ImageBase, IN UINT32 SectionHeaderOffset, IN CONST UINT16 NumberOfSections, IN <a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a859a9e64ec038caa1712f95d0eccf51b">REGION_PERMISSION_UPDATE_FUNC</a> TextUpdater, IN <a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a859a9e64ec038caa1712f95d0eccf51b">REGION_PERMISSION_UPDATE_FUNC</a> ReadOnlyUpdater, IN <a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a859a9e64ec038caa1712f95d0eccf51b">REGION_PERMISSION_UPDATE_FUNC</a> ReadWriteUpdater)</td></tr>
<tr class="separator:aef531ea8845e282ee4f6eb0c9f30a87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e82a3bb53756247a96187b59e91901"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_standalone_mm_8h.html#a2e29b831587c2eaae74b582d3a2a8a35">EFI_STATUS</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a25e82a3bb53756247a96187b59e91901">GetStandaloneMmCorePeCoffSections</a> (IN VOID *TeData, IN OUT PE_COFF_LOADER_IMAGE_CONTEXT *ImageContext, OUT EFI_PHYSICAL_ADDRESS *ImageBase, IN OUT UINT32 *SectionHeaderOffset, IN OUT UINT16 *NumberOfSections)</td></tr>
<tr class="separator:a25e82a3bb53756247a96187b59e91901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d678b753d5fd622774ba1bb74c04f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_standalone_mm_8h.html#a2e29b831587c2eaae74b582d3a2a8a35">EFI_STATUS</a> EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a32d678b753d5fd622774ba1bb74c04f3">LocateStandaloneMmCorePeCoffData</a> (IN EFI_FIRMWARE_VOLUME_HEADER *BfvAddress, IN OUT VOID **TeData, IN OUT UINTN *TeDataSize)</td></tr>
<tr class="separator:a32d678b753d5fd622774ba1bb74c04f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8956a040f1c3b196622a49fba118290"><td class="memItemLeft" align="right" valign="top">VOID *EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#ac8956a040f1c3b196622a49fba118290">CreateHobListFromBootInfo</a> (IN OUT <a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a4e79e0320e28dd96022050c160245acc">PI_MM_ARM_TF_CPU_DRIVER_ENTRYPOINT</a> *CpuDriverEntryPoint, IN <a class="el" href="struct_e_f_i___s_e_c_u_r_e___p_a_r_t_i_t_i_o_n___b_o_o_t___i_n_f_o.html">EFI_SECURE_PARTITION_BOOT_INFO</a> *PayloadBootInfo)</td></tr>
<tr class="separator:ac8956a040f1c3b196622a49fba118290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5bdd5fcabfff82d878ffbeba5461fa"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#adb5bdd5fcabfff82d878ffbeba5461fa">_ModuleEntryPoint</a> (IN VOID *SharedBufAddress, IN UINT64 SharedBufSize, IN UINT64 cookie1, IN UINT64 cookie2)</td></tr>
<tr class="separator:adb5bdd5fcabfff82d878ffbeba5461fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56ca91979008b106cf80b5d3713c982f"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a56ca91979008b106cf80b5d3713c982f">ProcessLibraryConstructorList</a> (IN EFI_HANDLE ImageHandle, IN EFI_MM_SYSTEM_TABLE *<a class="el" href="_standalone_mm_8h.html#afcd46015bbfae20f000a31a97d432875">MmSystemTable</a>)</td></tr>
<tr class="separator:a56ca91979008b106cf80b5d3713c982f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa091d526aa9a254679bbf7886e77921e"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#aa091d526aa9a254679bbf7886e77921e">ProcessModuleEntryPointList</a> (IN VOID *HobStart)</td></tr>
<tr class="separator:aa091d526aa9a254679bbf7886e77921e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Entry point to the Standalone MM Foundation when initialized during the SEC phase on ARM platforms</p>
<p>Copyright (c) 2017 - 2021, Arm Ltd. All rights reserved.<br/>
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a997a427ed72c764e6e1ca76377c546c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPU_INFO_FLAG_PRIMARY_CPU&#160;&#160;&#160;0x00000001</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a4e79e0320e28dd96022050c160245acc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="_standalone_mm_8h.html#a2e29b831587c2eaae74b582d3a2a8a35">EFI_STATUS</a>(* PI_MM_ARM_TF_CPU_DRIVER_ENTRYPOINT)(IN UINTN EventId, IN UINTN CpuNumber, IN UINTN NsCommBufferAddr)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a859a9e64ec038caa1712f95d0eccf51b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef RETURN_STATUS(* REGION_PERMISSION_UPDATE_FUNC)(IN EFI_PHYSICAL_ADDRESS BaseAddress, IN UINT64 Length)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adb5bdd5fcabfff82d878ffbeba5461fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI _ModuleEntryPoint </td>
          <td>(</td>
          <td class="paramtype">IN VOID *&#160;</td>
          <td class="paramname"><em>SharedBufAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT64&#160;</td>
          <td class="paramname"><em>SharedBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT64&#160;</td>
          <td class="paramname"><em>cookie1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT64&#160;</td>
          <td class="paramname"><em>cookie2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The entry point of Standalone MM Foundation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">SharedBufAddress</td><td>Pointer to the Buffer between SPM and SP. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SharedBufSize</td><td>Size of the shared buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cookie1</td><td>Cookie 1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cookie2</td><td>Cookie 2 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac8956a040f1c3b196622a49fba118290"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID* EFIAPI CreateHobListFromBootInfo </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a4e79e0320e28dd96022050c160245acc">PI_MM_ARM_TF_CPU_DRIVER_ENTRYPOINT</a> *&#160;</td>
          <td class="paramname"><em>CpuDriverEntryPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="struct_e_f_i___s_e_c_u_r_e___p_a_r_t_i_t_i_o_n___b_o_o_t___i_n_f_o.html">EFI_SECURE_PARTITION_BOOT_INFO</a> *&#160;</td>
          <td class="paramname"><em>PayloadBootInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use the boot information passed by privileged firmware to populate a HOB list suitable for consumption by the MM Core and drivers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">CpuDriverEntryPoint</td><td>Address of MM CPU driver entrypoint </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PayloadBootInfo</td><td>Boot information passed by privileged firmware </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a25e82a3bb53756247a96187b59e91901"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_standalone_mm_8h.html#a2e29b831587c2eaae74b582d3a2a8a35">EFI_STATUS</a> EFIAPI GetStandaloneMmCorePeCoffSections </td>
          <td>(</td>
          <td class="paramtype">IN VOID *&#160;</td>
          <td class="paramname"><em>TeData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT PE_COFF_LOADER_IMAGE_CONTEXT *&#160;</td>
          <td class="paramname"><em>ImageContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_PHYSICAL_ADDRESS *&#160;</td>
          <td class="paramname"><em>ImageBase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINT32 *&#160;</td>
          <td class="paramname"><em>SectionHeaderOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINT16 *&#160;</td>
          <td class="paramname"><em>NumberOfSections</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Privileged firmware assigns RO &amp; Executable attributes to all memory occupied by the Boot Firmware Volume. This function locates the section information of the Standalone MM Core module to be able to change permissions of the individual sections later in the boot process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">TeData</td><td>Pointer to PE/COFF image data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ImageContext</td><td>Pointer to PE/COFF image context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ImageBase</td><td>Pointer to ImageBase variable </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">SectionHeaderOffset</td><td>Offset of PE/COFF image section header </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">NumberOfSections</td><td>Number of Sections </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a32d678b753d5fd622774ba1bb74c04f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_standalone_mm_8h.html#a2e29b831587c2eaae74b582d3a2a8a35">EFI_STATUS</a> EFIAPI LocateStandaloneMmCorePeCoffData </td>
          <td>(</td>
          <td class="paramtype">IN EFI_FIRMWARE_VOLUME_HEADER *&#160;</td>
          <td class="paramname"><em>BfvAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT VOID **&#160;</td>
          <td class="paramname"><em>TeData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINTN *&#160;</td>
          <td class="paramname"><em>TeDataSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Privileged firmware assigns RO &amp; Executable attributes to all memory occupied by the Boot Firmware Volume. This function locates the Standalone MM Core module PE/COFF image in the BFV and returns this information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BfvAddress</td><td>Base Address of Boot Firmware Volume </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">TeData</td><td>Pointer to address for allocating memory for PE/COFF image data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">TeDataSize</td><td>Pointer to size of PE/COFF image data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a56ca91979008b106cf80b5d3713c982f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI ProcessLibraryConstructorList </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE&#160;</td>
          <td class="paramname"><em>ImageHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_MM_SYSTEM_TABLE *&#160;</td>
          <td class="paramname"><em>MmSystemTable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Auto generated function that calls the library constructors for all of the module's dependent libraries.</p>
<p>This function must be called by <a class="el" href="_standalone_mm_core_entry_point_8h.html#a43f1da4ebdcfb71480bc45d8939b7874">_ModuleEntryPoint()</a>. This function calls the set of library constructors for the set of library instances that a module depends on. This includes library instances that a module depends on directly and library instances that a module depends on indirectly through other libraries. This function is auto generated by build tools and those build tools are responsible for collecting the set of library instances, determine which ones have constructors, and calling the library constructors in the proper order based upon each of the library instances own dependencies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ImageHandle</td><td>The image handle of the DXE Core. </td></tr>
    <tr><td class="paramname">SystemTable</td><td>A pointer to the EFI System Table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa091d526aa9a254679bbf7886e77921e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI ProcessModuleEntryPointList </td>
          <td>(</td>
          <td class="paramtype">IN VOID *&#160;</td>
          <td class="paramname"><em>HobStart</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Auto generated function that calls a set of module entry points.</p>
<p>This function must be called by <a class="el" href="_standalone_mm_core_entry_point_8h.html#a43f1da4ebdcfb71480bc45d8939b7874">_ModuleEntryPoint()</a>. This function calls the set of module entry points. This function is auto generated by build tools and those build tools are responsible for collecting the module entry points and calling them in a specified order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">HobStart</td><td>Pointer to the beginning of the HOB List passed in from the PEI Phase. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aef531ea8845e282ee4f6eb0c9f30a87c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_standalone_mm_8h.html#a2e29b831587c2eaae74b582d3a2a8a35">EFI_STATUS</a> EFIAPI UpdateMmFoundationPeCoffPermissions </td>
          <td>(</td>
          <td class="paramtype">IN CONST PE_COFF_LOADER_IMAGE_CONTEXT *&#160;</td>
          <td class="paramname"><em>ImageContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_PHYSICAL_ADDRESS&#160;</td>
          <td class="paramname"><em>ImageBase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT32&#160;</td>
          <td class="paramname"><em>SectionHeaderOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST UINT16&#160;</td>
          <td class="paramname"><em>NumberOfSections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a859a9e64ec038caa1712f95d0eccf51b">REGION_PERMISSION_UPDATE_FUNC</a>&#160;</td>
          <td class="paramname"><em>TextUpdater</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a859a9e64ec038caa1712f95d0eccf51b">REGION_PERMISSION_UPDATE_FUNC</a>&#160;</td>
          <td class="paramname"><em>ReadOnlyUpdater</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html#a859a9e64ec038caa1712f95d0eccf51b">REGION_PERMISSION_UPDATE_FUNC</a>&#160;</td>
          <td class="paramname"><em>ReadWriteUpdater</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Privileged firmware assigns RO &amp; Executable attributes to all memory occupied by the Boot Firmware Volume. This function sets the correct permissions of sections in the Standalone MM Core module to be able to access RO and RW data and make further progress in the boot process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ImageContext</td><td>Pointer to PE/COFF image context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ImageBase</td><td>Base of image in memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SectionHeaderOffset</td><td>Offset of PE/COFF image section header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumberOfSections</td><td>Number of Sections </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TextUpdater</td><td>Function to change code permissions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReadOnlyUpdater</td><td>Function to change RO permissions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReadWriteUpdater</td><td>Function to change RW permissions </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_881ee098760727642f83b29e6625c173.html">StandaloneMmPkg</a></li><li class="navelem"><a class="el" href="dir_f4b5be780c98e2f866527a7cffc5ef72.html">Include</a></li><li class="navelem"><a class="el" href="dir_9bed7c6775bc145065a95b49c6548bad.html">Library</a></li><li class="navelem"><a class="el" href="dir_d791ad37fc6f2199bc055b7e7a3ad7d0.html">Arm</a></li><li class="navelem"><a class="el" href="_arm_2_standalone_mm_core_entry_point_8h.html">StandaloneMmCoreEntryPoint.h</a></li>
    <li class="footer">Generated on Sun Dec 5 2021 00:13:00 for StandaloneMmPkg[all] by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
